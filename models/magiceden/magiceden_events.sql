{{ config(
        alias ='events',
        post_hook='{{ expose_spells(\'["solana"]\',
                                    "project",
                                    "magiceden",
                                    \'["soispoke"]\') }}'
        )
}}

SELECT
        blockchain,
        project,
        version,
        block_date,
        block_time,
        token_id,
        CAST(NULL AS STRING) as collection,
        amount_usd,
        token_standard,
        trade_type,
        number_of_items,
        CAST(NULL AS STRING) as trade_category,
        evt_type,
        seller,
        buyer,
        amount_original,
        amount_raw,
        currency_symbol,
        currency_contract,
        CAST(NULL AS STRING) as nft_contract_address,
        project_contract_address,
        CAST(NULL AS STRING) as aggregator_name,
        CAST(NULL AS STRING) as aggregator_address,
        tx_hash,
        block_number,
        CAST(NULL AS STRING) as tx_from,
        CAST(NULL AS STRING) as tx_to,
        platform_fee_amount_raw,
        platform_fee_amount,
        platform_fee_amount_usd,
        platform_fee_percentage,
        royalty_fee_amount_raw,
        royalty_fee_amount,
        royalty_fee_amount_usd,
        royalty_fee_percentage,
        CAST(NULL AS STRING) as royalty_fee_receive_address,
        royalty_fee_currency_symbol,
        unique_trade_id
FROM {{ ref('magiceden_solana_events') }}
